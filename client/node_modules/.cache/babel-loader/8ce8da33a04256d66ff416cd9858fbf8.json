{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/stephanielau/Desktop/code/projects/waves/client/src/Components/Product/ProdImg.js\";\nimport React, { Component } from 'react';\nimport ImgLightbox from '../Utils/ImgLightbox';\n\nclass ProdImg extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      lightbox: false,\n      imagePos: 0,\n      lightboxImages: []\n    };\n\n    this.renderCardImage = images => {\n      if (images.length > 0) {\n        return images[0].url;\n      } else {\n        return `/images/image_not_available.png`;\n      }\n    };\n\n    this.handleLightbox = pos => {\n      if (this.state.lightboxImages.length > 1) {\n        console.log('show lightbox');\n        this.setState({\n          lightbox: true,\n          imagePos: pos\n        });\n      }\n    };\n\n    this.handleLightboxClose = () => {\n      this.setState({\n        lightbox: false\n      });\n    };\n\n    this.showThumbs = detail => this.state.lightboxImages.map((item, i) => i > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => this.handleLightbox(i),\n      className: \"thumb\",\n      style: {\n        background: `url(${item}) no-repeat`\n      }\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }, this) : null);\n  }\n\n  componentDidMount() {\n    console.log(this.props.detail.images);\n\n    if (this.props.detail.images.length > 0) {\n      let lightboxImages = [];\n      this.props.detail.images.forEach(item => {\n        lightboxImages.push(item.url);\n      });\n      this.setState({\n        lightboxImages\n      });\n    }\n  }\n\n  render() {\n    const {\n      detail\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product_image_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main_pic\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: `url(${this.renderCardImage(detail.images)}) no-repeat`\n          },\n          onClick: () => this.handleLightbox(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main_thumbs\",\n        children: this.showThumbs(detail)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.lightbox ? /*#__PURE__*/_jsxDEV(ImgLightbox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default ProdImg;","map":{"version":3,"sources":["/Users/stephanielau/Desktop/code/projects/waves/client/src/Components/Product/ProdImg.js"],"names":["React","Component","ImgLightbox","ProdImg","state","lightbox","imagePos","lightboxImages","renderCardImage","images","length","url","handleLightbox","pos","console","log","setState","handleLightboxClose","showThumbs","detail","map","item","i","background","componentDidMount","props","forEach","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ImgLightbox from '../Utils/ImgLightbox';\n\nclass ProdImg extends Component {\n\n\tstate = {\n\t\tlightbox: false,\n\t\timagePos: 0,\n\t\tlightboxImages: []\n\t}\n  \t\n  \tcomponentDidMount() {\n  \t\tconsole.log(this.props.detail.images);\n  \t\tif(this.props.detail.images.length > 0) {\n  \t\t\tlet lightboxImages = [];\n\n  \t\t\tthis.props.detail.images.forEach(item => {\n  \t\t\t\tlightboxImages.push(item.url);\n\n  \t\t\t})\n  \t\t\tthis.setState({\n  \t\t\t\tlightboxImages\n  \t\t\t})\n\n  \t\t}\n  \t\t\n  \t}\n\n  \trenderCardImage = (images) => {\n  \t\tif(images.length > 0) {\n  \t\t\treturn images[0].url\n  \t\t}\n  \t\telse {\n  \t\t\treturn `/images/image_not_available.png`\n  \t\t}\n  \t}\n\n  \thandleLightbox = (pos) => {\n  \t\tif(this.state.lightboxImages.length > 1) {\n  \t\t\tconsole.log('show lightbox')\n  \t\t\tthis.setState({\n  \t\t\t\tlightbox: true,\n  \t\t\t\timagePos: pos\n  \t\t\t})\n\n  \t\t}\n  \t}\n\n  \thandleLightboxClose = () => {\n  \t\tthis.setState({\n  \t\t\tlightbox: false\n  \t\t})\n  \t}\n\n  \tshowThumbs = (detail) => (\n  \t\tthis.state.lightboxImages.map((item, i) => (\n  \t\t\ti > 0 ?\n  \t\t\t<div\n  \t\t\t\tkey={i}\n  \t\t\t\tonClick={() => this.handleLightbox(i)}\n  \t\t\t\tclassName='thumb'\n  \t\t\t\tstyle={{background: `url(${item}) no-repeat`}}\n  \t\t\t>\n\n  \t\t\t</div>\n  \t\t\t: null\n  \t\t))\n  \t)\n\n  \trender() {\n  \t\tconst {detail} = this.props;\n    \treturn (\n      \t\t<div className='product_image_container'>\n      \t\t\t<div className='main_pic'>\n      \t\t\t\t<div\n      \t\t\t\t\tstyle={{background: `url(${this.renderCardImage(detail.images)}) no-repeat`}}\n      \t\t\t\t\tonClick={() => this.handleLightbox(0)}\n      \t\t\t\t>\n\n      \t\t\t\t</div>\n      \t\t\t</div>\n        \t\t<div className='main_thumbs'>\n        \t\t\t{ this.showThumbs(detail) }\n        \t\t</div>\n        \t\t<div>\n        \t\t{\n        \t\t\tthis.state.lightbox ?\n        \t\t\t\t<ImgLightbox \n\n        \t\t\t\t/>\n        \t\t\t: null\n        \t\t}\n        \t\t</div>\n      \t\t</div>\n    \t)\n  }\n}\n\nexport default ProdImg"]},"metadata":{},"sourceType":"module"}