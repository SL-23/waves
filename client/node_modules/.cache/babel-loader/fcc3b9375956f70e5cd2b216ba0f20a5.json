{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/stephanielau/Desktop/code/projects/waves/client/src/Components/Shop/index.js\";\nimport React, { Component } from 'react';\nimport PageTop from '../Utils/PageTop';\nimport { frets, price } from '../Utils/Form/fixedCategories';\nimport CollapseCheckbox from '../Utils/CollapseCheckbox.js';\nimport CollapseRadio from '../Utils/CollapseRadio.js';\nimport LoadMoreCards from './LoadMoreCards';\nimport faBars from '@fortawesome/fontawesome-free-solid/faBars';\nimport faTh from '@fortawesome/fontawesome-free-solid/faTh';\nimport { connect } from 'react-redux';\nimport { getProductsToShop, getBrands, getWoods } from '../../actions/products_action';\n\nclass Shop extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      grid: '',\n      limit: 6,\n      skip: 0,\n      filters: {\n        brand: [],\n        frets: [],\n        wood: [],\n        price: []\n      }\n    };\n\n    this.handlePrice = value => {\n      const data = price;\n      let array = [];\n\n      for (let key in data) {\n        if (data[key]._id === parseInt(value, 10)) {\n          array = data[key].array;\n        }\n      }\n\n      return array;\n    };\n\n    this.handleFilters = (filters, category) => {\n      const newFilters = { ...this.state.filters\n      };\n      newFilters[category] = filters;\n\n      if (category === 'price') {\n        let priceVal = this.handlePrice(filters);\n        newFilters[category] = priceVal;\n      }\n\n      this.showFilteredResults(newFilters);\n      this.setState({\n        filters: newFilters\n      });\n    };\n\n    this.showFilteredResults = filters => {\n      this.props.dispatch(getProductsToShop(0, this.state.limit, filters)).then(() => {\n        this.setState({\n          skip: 0\n        });\n      });\n      console.log(this.state);\n    };\n\n    this.LoadMoreProducts = () => {\n      let skip = this.state.skip + this.state.limit;\n      this.props.dispatch(getProductsToShop(skip, this.state.limit, this.state.filters, this.props.products.toShop)).then(() => {\n        this.setState({\n          skip\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getBrands());\n    this.props.dispatch(getWoods());\n    this.props.dispatch(getProductsToShop(this.state.skip, this.state.limit, this.state.filters));\n    console.log(this.props.products);\n  }\n\n  render() {\n    const products = this.props.products;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(PageTop, {\n        title: \"Browse products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop_wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left\",\n            children: [/*#__PURE__*/_jsxDEV(CollapseCheckbox, {\n              initState: true,\n              title: \"Brands\",\n              list: products.brands,\n              handleFilters: filters => this.handleFilters(filters, 'brand')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(CollapseCheckbox, {\n              initState: false,\n              title: \"Frets\",\n              list: frets,\n              handleFilters: filters => this.handleFilters(filters, 'frets')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CollapseCheckbox, {\n              initState: true,\n              title: \"Woods\",\n              list: products.woods,\n              handleFilters: filters => this.handleFilters(filters, 'woods')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CollapseRadio, {\n              initState: true,\n              title: \"Price\",\n              list: price,\n              handleFilters: filters => this.handleFilters(filters, 'price')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shop_options\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shop_grids clear\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `grid_btn ${this.state.grid ? '' : 'active'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(LoadMoreCards, {\n              grid: this.state.grid,\n              limit: this.state.limit,\n              size: products.toShopSize,\n              products: products.toShop,\n              loadMore: () => this.LoadMoreProducts()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 10\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    products: state.products\n  };\n};\n\nexport default connect(mapStateToProps)(Shop);","map":{"version":3,"sources":["/Users/stephanielau/Desktop/code/projects/waves/client/src/Components/Shop/index.js"],"names":["React","Component","PageTop","frets","price","CollapseCheckbox","CollapseRadio","LoadMoreCards","faBars","faTh","connect","getProductsToShop","getBrands","getWoods","Shop","state","grid","limit","skip","filters","brand","wood","handlePrice","value","data","array","key","_id","parseInt","handleFilters","category","newFilters","priceVal","showFilteredResults","setState","props","dispatch","then","console","log","LoadMoreProducts","products","toShop","componentDidMount","render","brands","woods","toShopSize","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PageTop from '../Utils/PageTop';\nimport { frets, price } from '../Utils/Form/fixedCategories';\nimport CollapseCheckbox from '../Utils/CollapseCheckbox.js';\nimport CollapseRadio from '../Utils/CollapseRadio.js';\nimport LoadMoreCards from './LoadMoreCards';\nimport faBars from '@fortawesome/fontawesome-free-solid/faBars';\nimport faTh from '@fortawesome/fontawesome-free-solid/faTh';\n\n\nimport { connect } from 'react-redux';\nimport { getProductsToShop, getBrands, getWoods } from '../../actions/products_action';\n\n\nclass Shop extends Component {\n    state = {\n        grid: '',\n        limit: 6,\n        skip: 0,\n        filters: {\n            brand: [],\n            frets: [],\n            wood: [],\n            price: []\n        }\n    }\n\tcomponentDidMount() {\n\t\tthis.props.dispatch(getBrands());\n\t\tthis.props.dispatch(getWoods());\n        this.props.dispatch(getProductsToShop(this.state.skip, this.state.limit, this.state.filters));\n        console.log(this.props.products);\n\t}\n    \n    handlePrice = (value) => {\n        const data = price;\n        let array = [];\n        for(let key in data)\n        {\n            if(data[key]._id === parseInt(value,10)) {\n                array = data[key].array\n            }\n        }\n        return array;\n    }\n\n    handleFilters = (filters, category) => {\n        const newFilters = {...this.state.filters}\n        newFilters[category] = filters;\n\n        if(category === 'price')\n        {\n            let priceVal = this.handlePrice(filters);\n            newFilters[category] = priceVal;\n        }\n        this.showFilteredResults(newFilters);\n        this.setState({\n            filters: newFilters\n        })\n        \n    } \n\n    showFilteredResults = (filters) => {\n        this.props.dispatch(getProductsToShop(0, this.state.limit, filters)).then(() => {\n            this.setState({\n                skip: 0\n\n            })\n        });\n\n        console.log(this.state)\n\n    }\n\n    LoadMoreProducts = () => {\n        let skip = this.state.skip + this.state.limit;\n        \n        this.props.dispatch(getProductsToShop(\n            skip,\n            this.state.limit,\n            this.state.filters,\n            this.props.products.toShop\n        )).then(() => {\n            this.setState({\n                skip\n            })\n        })\n    }\n\n    render() {\n      \tconst products = this.props.products;\n        return (\n        \t\n        \t<div>\n        \t\t<PageTop title='Browse products'/>\n        \t\t<div className='container'>\n        \t\t\t<div className='shop_wrapper'>\n        \t\t\t\t<div className='left'>\n        \t\t\t\t\t<CollapseCheckbox \n                                initState={true}\n                                title='Brands'\n                                list={products.brands}\n                                handleFilters={(filters)=> this.handleFilters(filters, 'brand')}\n                            />\n                            <CollapseCheckbox \n                                initState={false}\n                                title='Frets'\n                                list={frets}\n                                handleFilters={(filters)=> this.handleFilters(filters, 'frets')}\n                            />\n                            <CollapseCheckbox \n                                initState={true}\n                                title='Woods'\n                                list={products.woods}\n                                handleFilters={(filters)=> this.handleFilters(filters, 'woods')}\n                            />\n                            <CollapseRadio \n                                initState={true}\n                                title='Price'\n                                list={price}\n                                handleFilters={(filters)=> this.handleFilters(filters, 'price')}\n                            />\n        \t\t\t\t</div>\n        \t\t\t\t<div className='right'>\n                        <div className='shop_options'>\n                            <div className='shop_grids clear'>\n                                <div className={`grid_btn ${this.state.grid ? '' : 'active'}`}>\n\n                                </div>\n                            </div>\n                        </div>\n        \t\t\t\t\t<LoadMoreCards\n                                grid={this.state.grid}\n                                limit={this.state.limit}\n                                size={products.toShopSize}\n                                products={products.toShop}\n                                loadMore={() => this.LoadMoreProducts()}\n                            />\n        \t\t\t\t</div>\n        \t\t\t</div>\n        \t\t</div>\n        \t</div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tproducts: state.products\n\t}\n}\n\nexport default connect(mapStateToProps)(Shop);"]},"metadata":{},"sourceType":"module"}